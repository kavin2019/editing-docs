

# vim快速入门

***



1. 移动光标：  ⬅️⬇️⬆️➡️ 或hjkl 
2. vim工作模式
   * 插入模式
   * 可视模式
3. 翻页
   * ctrl+f：下一页 [f]orward
   * ctrl+b: 上一页 [b]ackward
   * ctrl+d: 向下翻半页 [d]own
   * ctrl+u：向上翻半页 [u]p
   * ctrl+e: 向下滚一行
   * ctrl+y：向上滚动一行 
   * zz：光标行滚动到屏幕居中
   * zt：光标行滚动到屏幕顶部
   * zb 光行滚动到屏幕底部

## 普通模式

1. 进入插入模式

   ```
   i: 光标前插入 ps:[i]nsert
   I: 光标所在行首插入
   a: 光标后插入 ps:[a]fter
   A: 光标所在行行尾插入
   o：光标所在行的下方插入空行并进入插入
   O：光标所在行的上方插入空行并进入插入
   s：删除光标指向的字符并进入插入
   S：清除光标所在行并进入插入
   ```

   

2. 删除字符

   ```
   x: 删除单一字符,光标所指的字符
   d motion: ps:motion表示范围
   如：
   d0: 删除光标到行首的内容,不包括光标指向的字符
   d^: 同上
   d$: 删除光标到行尾，包括光标指向的字符
   db: 删除光标到单词第一个字符，不包括光标指向的字符
   de: 删除光标到单词最后一个字符，包括光标指向的字符
   dw: 删除光标所在的位置到下一个单词的之前的所有内容
   dgg: 删除光标所在行和第一行的所有内容，包括第一行和光标所在行
   dG：删除光标所在行到末行，包括光标所在行和末行
   dh: 删除光标左边的字符
   dl：删除光标指向的字符
   dj: 删除光标所在行和下一行
   dk：删除光标所在行和上一行
   dd：删除光标所在行
   
   d+数字+motion ：神奇的操作哦
   ps：删除的字符不会丢弃，而是放入到vim寄存器中（类似weindows的剪贴板），使用p/P可以粘贴而实现剪切的效果。
     
   ```

3. motion范围操作

   ```
   0: 光标移动到行首.
   ^: 同0
   $: 光标移动到行尾
   b: 定位到光标所在单词的第一个字符 ps:[b]egin针对单词的
   e: 定位到光标所在单词或下一个单词的末尾 ps:[e]nd针对单词
   w：定位到光标所在单词的下一个单词的第一个字符 
   gg：定位到文章的开头
   G：定位到文章的最后一行的行首
   
   进阶：数字+motion可以重复执行范围操作多次，如
   3+h：向左移动三个位置
   3+j：向下移动三个位置
   数字和motion可以组合很多种灵活的motion
   ```

   

4. 撤销和重做

   ```
   u: 撤销最后一次修改
   U：撤销整行的修改,如果修改涉及多行，无效
   ctrl+r：重做，撤销撤销操作。
   ```

   

5. 粘贴

   ```
   粘贴的是非整行的局部字符串：
   p：粘贴在光标所在字符的后面
   P：粘贴在所在字符的前面
   粘贴的是整行数据：
   p: 粘贴在光标行的下一行（插入行）
   P：粘贴在光标行的上一行（插入行）
   ```

   

6. 拷贝

   ```
   y[数字]motion
   **参考删除**
   yy:复制当前行
   yyy：复制当前行和下一行，共两行
   ```

   

7. 替换-单字符替换

   ```
   r: 替换单个字符 ps：[r]eplace
   r+数字：替换光标指向以及后面的多个字符统一替换为新字符：
   	如：abcdef，如果光标指向a。 3r命令后按o，那么字符串会被修改为 ooodef
   ```

   

8. 替换模式

   ```
   R: 进入到替换模式
   ```

   

9. 修改

   ```
   c[数字]motion ：修改，[c]hange
   其实质就是：先删除后进入插入模式
   
   ```

   

10. 查看文本信息

    ```
    ctrl+g
    结果： 文本名 修改状态（修改或正常） 总行数  光标所在行在整个文件行的位置的百分比（行号/总行数 * 100）
    ```

    

11. 跳转

    ```
    数字 + G
    跳转到指定数字的行。
    数字必须大于零，如果数字大于总行数，跳到末行
    ```

    

12. 定位括号

    ```
    %可以快速的定位到光标指定的括号的另一半括号（括号是成对的）
    
    ```

    

13. 缩进

    ```
    >> :缩进
    << :反缩进
    ```

    

14. 可视模式

    ```
    v:进入到可视模式
    可视模式下移动模式会选中移动过程中路径的内容。然后可以进行编辑 删除和复制
    ```

    

15. 查询

    ```
    查询 '/'和'?'
    /:光标位置向后搜索
    ? :光标位置向前搜索
    n: 下一个匹配,这个方向由查询命令是/还是?决定
    N：上一个匹配,这个方向由查询命令是/还是?决定
    
    清除高亮： `:nohl`
    ```

    

16. 命令模式下的替换

    ```
    命令行下的替换使用命令`s`
    如：
    :s/good/well 将光标所在行第一个good替换为well
    :s/good/well/g 将光标所在行所有good替换为well  ps：最后的g表示全部，默认作用域是一行
    :n,ms/good/well 将n到m行的所有行的第一个good替换为well
    :n,ms/good/well/g 将n到m行的所有行的所有good替换为well
    ps：n和m是数字，也可以时特殊字符'.' '$',表示光标所在行 末行
    
    :%s/good/well %s表示正对所有行，替换第一个good为well
    :%s/good/well/g 所有行，替换所有good为well
    ps：最后一个参数g的位置，如果加上c，表示每次替换都会询问
    
    ```

    

17. 执行shell命令

    格式：`:! shell命令`

    例如：

    ```
    :! ls //查看打当前文件夹下的文件
    ```

    

18. 文件保存

    ```
    保存文件： ":w"
    另存为:   ":w 文件名"，ps：文件名可以是包含文件名的完整路径
    局部内容保存：
    	可视模式下选择内容->输入":w 文件名"
    ```

    

19.  合并文件

    ```
    命令行模式下输入r
    ":r 文件名"  文件内容会自动插入到光标所在行的下一行
    ```

20. 打开多个文件
    vim允许打开多个文件

    ```
    命令行模式下：vim -o/-O 文件1 文件2 ...
    -o :垂直模式下打开
    -O ：水平模式下打开
    
    打开后切换窗口：
    ctrl+w+w 下一个文件
    ctrl+w+方向键左右，切换左右文件，PS：水平模式下使用
    ctrl+w+方向键上下，切换上下文件，PS：垂直模式下使用
    
    默认情况下使用q和w只能退出/保存一个文件，如果要对所有文件有效使用：
    :qa
    :wa
    :qwa
    ```


## 命令模式

1. nohl 清除高亮
2. set list 启用显示特殊字符，如制表符和换行符。
3. set nolist。关闭显示特殊字符

### 文件格式转换

在以后可能windows上的文件需要在linux下的vim打开时，需要进行格式转换，反之也是需要的。这里格式转换就需要用到dos2unix和unix2dos工具

```shell
#dos2unix工具需要提前安装
dos2unix [OPTIONS] file1 file2 file3...
unix2dos [OPTIONS] file1 file2 file3...
OPTIONS:
-n 默认情况下，所有转换都是在原文件上进行的，如果需要保留原文件，使用-n参数
		dos2unix -n a.txt b.txt,将a文件转换格式后建立b文件。
-k 保持文件时间戳不变
```

