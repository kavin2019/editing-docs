## VOLUME指定匿名卷

格式：

```shell
VOLUME ["<路径1>", "<路径2>"...]
VOLUME <路径>
```

VOLUME指令时为容器在运行时设置挂载点，可以让其它容器和宿主机器挂在来实现数据的共享、恢复和迁移。容器在运行时应该尽量保持不在容器存储层内发生写操作，对于程序产生的数据应该保存于卷(volume)中。为了防止运行时用户忘记指定将程序生成的动态文件所保存的目录挂载为卷，在dockerfile中，可以事先指定某些目录挂载为匿名卷，这样在运行时，如果用户没有指定挂载，容器会自动挂载，这样保证了数据不会写入到容器中。

```bash
VOLUME /data
```

这里的 `/data` 目录就会在运行时自动挂载为匿名卷，任何向 `/data` 中写入的信息都不会记录进容器存储层，从而保证了容器存储层的无状态化。当然，运行时可以覆盖这个挂载设置。比如：

```bash
docker run -d -v mydata:/data xxxx
```

在这行命令中，就使用了 `mydata` 这个命名卷挂载到了 `/data` 这个位置，替代了 `Dockerfile` 中定义的匿名卷的挂载配置。